{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "title": "Index Job Mapping Schema",
  "properties": {
    "entityType": {
      "type": "string",
      "description": "Entity type for the index"
    },
    "class": {
      "type": "string",
      "description": "Class name for the index"
    },
    "mappings": {
      "type": "array",
      "description": "Array of field mappings",
      "items": {
        "type": "object",
        "properties": {
          "column": {
            "type": "string",
            "description": "Database column name"
          },
          "jsonPath": {
            "type": "string",
            "description": "JsonPath expression to extract from source data"
          },
          "type": {
            "type": "string",
            "description": "Database column type (varchar2, decimal, date, etc.)"
          },
          "nullable": {
            "type": "boolean",
            "description": "Whether the column is nullable",
            "default": true
          },
          "exportToPlain": {
            "type": "boolean",
            "description": "Whether to export to plain table"
          },
          "exportDest": {
            "type": "array",
            "description": "Export destinations (plain, index, etc.)",
            "items": {
              "type": "string"
            }
          },
          "plainColumn": {
            "type": "string",
            "description": "Column name in plain table"
          }
        },
        "required": ["column"]
      }
    }
  },
  "required": ["mappings"]
}

