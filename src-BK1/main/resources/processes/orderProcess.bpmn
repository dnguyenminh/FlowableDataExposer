<?xml version="1.0" encoding="UTF-8"?>
<definitions xmlns="http://www.omg.org/spec/BPMN/20100524/MODEL" 
             xmlns:flowable="http://flowable.org/bpmn" 
             xmlns:bpmndi="http://www.omg.org/spec/BPMN/20100524/DI" 
             xmlns:dc="http://www.omg.org/spec/DD/20100524/DC" 
             xmlns:di="http://www.omg.org/spec/DD/20100524/DI" 
             targetNamespace="Examples">

  <process id="orderProcess" name="Order Process" isExecutable="true">
    <startEvent id="start" name="Start Order Process"/>
    
    <sequenceFlow id="f1" sourceRef="start" targetRef="calcDiscount"/>
    
    <serviceTask id="calcDiscount" name="Calculate Shipping &amp; Discount" 
                 flowable:delegateExpression="${dmnDecisionDelegate}" 
                 flowable:fallbackToDefaultTenant="true"/>
    
    <sequenceFlow id="f2" sourceRef="calcDiscount" targetRef="persistCase"/>
    
    <serviceTask id="persistCase" name="Persist Case Snapshot" 
                 flowable:delegateExpression="${casePersistDelegate}"/>
    
    <sequenceFlow id="f3" sourceRef="persistCase" targetRef="end"/>
    <endEvent id="end" name="End Process"/>
  </process>

  <!-- BPMN diagram (DI) â€” kept so the model can be opened/edited in Flowable Modeler. -->
  <bpmndi:BPMNDiagram id="BPMNDiagram_orderProcess">
    <bpmndi:BPMNPlane bpmnElement="orderProcess" id="BPMNPlane_orderProcess">
      <bpmndi:BPMNShape bpmnElement="start" id="BPMNShape_start"><dc:Bounds x="100" y="150" width="30" height="30"/></bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="calcDiscount" id="BPMNShape_calcDiscount"><dc:Bounds x="200" y="125" width="100" height="80"/></bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="persistCase" id="BPMNShape_persistCase"><dc:Bounds x="350" y="125" width="100" height="80"/></bpmndi:BPMNShape>
      <bpmndi:BPMNShape bpmnElement="end" id="BPMNShape_end"><dc:Bounds x="500" y="150" width="30" height="30"/></bpmndi:BPMNShape>
      <bpmndi:BPMNEdge bpmnElement="f1" id="f1_gui"><di:waypoint x="130" y="165"/><di:waypoint x="200" y="165"/></bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="f2" id="f2_gui"><di:waypoint x="300" y="165"/><di:waypoint x="350" y="165"/></bpmndi:BPMNEdge>
      <bpmndi:BPMNEdge bpmnElement="f3" id="f3_gui"><di:waypoint x="450" y="165"/><di:waypoint x="500" y="165"/></bpmndi:BPMNEdge>
    </bpmndi:BPMNPlane>
  </bpmndi:BPMNDiagram>
</definitions>